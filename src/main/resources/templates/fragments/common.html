<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<!-- Meta header -->
<th:block th:fragment="header(title)">
	<!-- HEAD -->
	<head>
	    <!-- Required meta tags -->
	    <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
		
		<!-- Custom CSS -->
	    <link rel="stylesheet" th:href="@{/css/main.css}" type="text/css">
	    
	    <!-- DataTables CSS -->
	    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css">
	    
	    <!-- Material Icons -->
	    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.0.9/css/fileinput.min.css" media="all" type="text/css" />
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" crossorigin="anonymous">
        
	    <title th:text="${title}"></title>
	    
	</head><!-- /HEAD -->
</th:block>
<body>
		
	<div th:fragment="appHeader">
      	<nav class="navbar fixed-top navbar-dark bg-dark">
			<a class="navbar-brand" href="#">Falcon Garage</a> 
      	</nav>
    </div>
    
    <!-- Nav bar in Login -->
    <th:block th:fragment="navbarLogin">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-5">
			<a class="navbar-brand" href="#">Falcon Garage</a>
		</nav>
	</th:block>
    
    <!-- Nav bar -->
    <th:block th:fragment="navbar">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<a class="navbar-brand" th:href="@{/dashboard}">Falcon Garage</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		    	<span class="navbar-toggler-icon"></span>
		  	</button>
			
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item" sec:authorize="hasRole('ADMIN')">
                      <a class="nav-link" th:href="@{/users}">Users Admin</a>
                    </li>
                    <th:block sec:authorize="hasAnyRole('ADMIN','INVENTORY')">
                    <li class="nav-item">
			        	<a class="nav-link" th:href="@{/products}">Products</a>
			      	</li>
			      	
				    <li class="nav-item">
				    		<a class="nav-link" th:href="@{/suppliers}">Suppliers</a>
				    </li>
			      	 
			        <li class="nav-item dropdown">
				   		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				          Purchases
				        </a>
				        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
				          <a class="dropdown-item" th:href="@{/purchases}">Purchase Orders</a>
				          <a class="dropdown-item" th:href="@{/purchasereturns}">Purchase Returns</a>
				        </div>
				   	</li>
				    
	                <li class="nav-item">
                       <a class="nav-link" th:href="@{/stocks}">Available Stocks</a>
                    </li>
                    </th:block>
                    <th:block sec:authorize="hasAnyRole('ADMIN','SALES')">
                    <li class="nav-item dropdown">
				    	<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				          Sales
				        </a>
				        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
				          <a class="dropdown-item" th:href="@{/salesorders}">Sales Orders</a>
				          <a class="dropdown-item" th:href="@{/salesreturns}">Sales Returns</a>
				        </div>
				    </li>
				    </th:block>
                    <th:block sec:authorize="hasRole('ADMIN')">
				    <li class="nav-item">
				    	<a class="nav-link" th:href="@{/expenses}">Expenses</a>
				    </li>
				    
				    <li class="nav-item">
				    	<a class="nav-link" th:href="@{/reports}">Reports</a>
				    </li>
                    </th:block>
				</ul>
				
				<form class="form-inline my-2 my-lg-0" th:action="@{/search}">
			      <input class="form-control mr-sm-2" type="search" placeholder="Enter keyword..." aria-label="Search" name="keyword" id="keywordVal">
			      <button class="btn btn-success my-2 my-sm-0" type="submit" >Search</button>
			    </form>
			</div>
		</nav>
	</th:block>
    
    <!-- Footer -->
    <div th:fragment="footer">
      	<nav class="navbar navbar-dark bg-dark">
      		<a class="navbar-brand" href="#">2020 Falcon Garage - Logged in as <span sec:authentication="name">Bob</span></a>
      		<div sec:authorize="isAuthenticated()">
<!-- 			    <a href="javascript: logoutForm.submit();" -->
<!-- 			        class="list-group-item menu" style="border: 0px;"> <i class="fas fa-sign-out-alt fa-lg"></i>Logout -->
<!-- 			    </a> -->
			    <form name="logoutForm" th:hidden="false" method="post"
			        th:action="@{/logout}">
<!-- 			      		Logged in as <span sec:authentication="name">Bob</span> -->
	        		<input type="submit" class="btn btn-danger float-right" value="Logout" />
			    </form>
		    </div>
      	</nav>
	</div>
	
	<th:block th:fragment="javascript">
		<!-- Bootstrap JS -->
<!-- 		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> -->
		<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
		
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
		
		<!-- DataTables JS -->
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
		

		<!-- Charts JS -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous"></script>
		
		<!-- JQuery Full -->
<!-- 		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script> -->
	</th:block>
	
	<!-- For File Export -->
	<th:block th:fragment="export">
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.flash.min.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js"></script>
		<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.print.min.js"></script>
	</th:block>
</body>
</html>