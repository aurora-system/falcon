<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="fragments/common::header('Orders')"></th:block>
<body>
	<div class="container-fluid">
	  	<!-- Navigation Bar -->
		<div class="row">
			<div class="col">
				<div th:replace="fragments/common::navbar">Navigation bar goes here</div>
			</div>
		</div>

		<div class="row">
			
		</div>
                
	  	<div class="row">
    		<div class="col">
				<div class="container-fluid mt-3 shadow-lg p-3 mb-3 bg-white rounded">
				
					<form class="form-horizontal" method="get" th:action="@{/reports/dailysales}">
						<div class="form-group">
							<h2>DAILY SALES</h2>
							<div class="col-sm-6">
								<div class="row">
									<div class="col mr-n4 mb-2">
										<input type="date" class="form-control" name="d"
											placeholder="today" th:value="${datePicked}" />
									</div>
									<div class="col">
										<button type="submit" class="btn btn-primary">Reload Report</button>
									</div>
								</div>
							</div>
						</div>
					</form>
			
					<!-- Order List -->
					<table id="dataTables-dailyList" class="table table-hover table-bordered " style="width: 100%">
						<thead class="datatable-thead thead-dark">
							<tr>
								<th class="th-sm">Receipt Number</th>
								<th class="th-sm">Type</th>
								<th class="th-sm">Product</th>
								<th class="th-sm">Unit Price</th>
								<th class="th-sm">Quantity</th>
								<th class="th-sm">Net Selling Price</th>
								<th class="th-sm">Profit</th>
							</tr>
						</thead>
						<tbody>
							<th:block th:each="ds : ${dailySales}">
								<input id="orderRow" type="hidden" th:value="${order}">
								<tr>
									<td th:text="${ds.number}"></td>
									<td th:text="${ds.type}"></td>
									<td th:text="${ds.stock.product.name}"></td>
									<td th:text="${ds.stock.unitCost}"></td>
									<td th:text="${ds.quantity}"></td>
									<td th:text="${ds.totalAmount}"></td>
									<td th:text="${ds.profit}"></td>
								</tr>
							</th:block>
						</tbody>
					</table>
				</div>
				
<!-- 				<div class="container-fluid mt-3 shadow-lg p-3 mb-3 bg-white rounded"> -->
<!-- 					<table class="table table-hover table-bordered " style="width: 100%"> -->
<!-- 						<tbody> -->
<!-- 							<tr> -->
<!-- 								<td class="table text-right">Total Cash Sales</td> -->
<!-- 								<td class="table-success" th:text="${totalAmount}"></td> -->
<!-- 							</tr> -->
<!-- 							<tr> -->
<!-- 								<td class="table text-right">Total Check Sales</td> -->
<!-- 								<td class="table-success" th:text="${totalAmount}"></td> -->
<!-- 							</tr> -->
<!-- 							<tr> -->
<!-- 								<td class="table text-right">Total Sales Amount</td> -->
<!-- 								<td class="table-success" th:text="${totalAmount}"></td> -->
<!-- 							</tr> -->
<!-- 						</tbody> -->
<!-- 					</table> -->
<!-- 				</div> -->
			</div>
	  	</div>
	  	<!-- Footer -->
		<th:block th:replace="fragments/common::footer"></th:block>
	</div>

	<th:block th:replace="fragments/common::javascript"></th:block>
	<th:block th:replace="fragments/common::export"></th:block>

	<script>
		$(document).ready(function() {
		    $('#dataTables-dailyList').DataTable({
		    	dom: "<'row'<'col-md-6'l><'col-md-6'f>>" +
		    	"<'row'<'col-md-6'><'col-md-6'>>" +
		    	"<'row'<'col-md-12't>><'row'<'col-md-12'ip>>B",
		        buttons: [
		            'excel', 'pdf', 'print'
		        ],
		    });
		    
		    $('.dt-button').addClass("btn btn-dark");
		} );
		
	</script>
</body>